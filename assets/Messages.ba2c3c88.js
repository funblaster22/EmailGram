import{S as T,i as E,s as M,e as f,k as O,b as c,a as g,l,n as x,d as _,j as I,h as $,t as q,m as k,p as j,q as C,r as P,u as S}from"./index.ac2bfc85.js";import{s as A}from"./svelte.12aa2442.js";import{r as R,u as F,b as G}from"./gapi.2a596be9.js";function J(i){let e,t,s;return{c(){e=f("div"),t=f("img"),O(t.src,s=i[0])||c(t,"src",s),c(t,"alt","user"),c(e,"class","aspect-square rounded-full bg-gray-200 m-1")},m(a,r){g(a,e,r),l(e,t)},p(a,[r]){r&1&&!O(t.src,s=a[0])&&c(t,"src",s)},i:x,o:x,d(a){a&&_(e)}}}function K(i,e,t){let{src:s=A}=e;return i.$$set=a=>{"src"in a&&t(0,s=a.src)},[s]}class L extends T{constructor(e){super(),E(this,e,K,J,M,{src:0})}}function Q(i){let e,t,s,a,r,u,n=i[0].participants.join(", ")+"",m,B,v,h=R(i[0].date)+"",y,H,N,w,b=i[0].snippet+"",z,D,p;return a=new L({}),{c(){e=f("a"),t=f("div"),s=f("div"),I(a.$$.fragment),r=$(),u=f("div"),m=q(n),B=$(),v=f("div"),y=q(h),H=q(" >"),N=$(),w=f("div"),z=q(b),c(s,"class","img svelte-1hn8m2z"),c(u,"class","addr whitespace-nowrap overflow-ellipsis overflow-x-hidden mr-1 svelte-1hn8m2z"),c(v,"class","time svelte-1hn8m2z"),c(w,"class","snippet border-b border-gray-300 overflow-hidden svelte-1hn8m2z"),c(t,"class","container svelte-1hn8m2z"),c(e,"href",D="#/messages/"+i[0].id)},m(o,d){g(o,e,d),l(e,t),l(t,s),k(a,s,null),l(t,r),l(t,u),l(u,m),l(t,B),l(t,v),l(v,y),l(v,H),l(t,N),l(t,w),l(w,z),p=!0},p(o,[d]){(!p||d&1)&&n!==(n=o[0].participants.join(", ")+"")&&j(m,n),(!p||d&1)&&h!==(h=R(o[0].date)+"")&&j(y,h),(!p||d&1)&&b!==(b=o[0].snippet+"")&&j(z,b),(!p||d&1&&D!==(D="#/messages/"+o[0].id))&&c(e,"href",D)},i(o){p||(C(a.$$.fragment,o),p=!0)},o(o){P(a.$$.fragment,o),p=!1},d(o){o&&_(e),S(a)}}}function U(i,e,t){let{conversationData:s}=e;return i.$$set=a=>{"conversationData"in a&&t(0,s=a.conversationData)},[s]}class X extends T{constructor(e){super(),E(this,e,U,Q,M,{conversationData:0})}}function V(i){let e,t,s,a,r,u;return s=new X({props:{conversationData:{date:new Date("2021-02-10"),snippet:"The quick brown fox jumped over the lazy dog",participants:["Ethan Dawes"]}}}),r=new X({props:{conversationData:{date:new Date("2022-04-15"),snippet:"The quick brown fox jumped over the lazy dog",participants:["Ethan Dawes"]}}}),{c(){e=f("input"),t=$(),I(s.$$.fragment),a=$(),I(r.$$.fragment),c(e,"placeholder","Search")},m(n,m){g(n,e,m),g(n,t,m),k(s,n,m),g(n,a,m),k(r,n,m),u=!0},p:x,i(n){u||(C(s.$$.fragment,n),C(r.$$.fragment,n),u=!0)},o(n){P(s.$$.fragment,n),P(r.$$.fragment,n),u=!1},d(n){n&&_(e),n&&_(t),S(s,n),n&&_(a),S(r,n)}}}function W(i){async function e(){const s=(await gapi.client.gmail.users.threads.list({userId:"me",labelIds:"INBOX",maxResults:500,q:"from:me"})).result.threads.map(a=>gapi.client.gmail.users.threads.get({userId:"me",id:a.id}).then(r=>(console.log(r.result.messages[0]),r.result.messages.map(u=>G(u.payload.headers,"To")))));console.log(await Promise.all(s))}return F.subscribe(t=>{t&&e()}),[]}class te extends T{constructor(e){super(),E(this,e,W,V,M,{})}}export{te as default};
