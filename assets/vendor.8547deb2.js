function $(){}function rt(t,e){for(const n in e)t[n]=e[n];return t}function ot(t){return t()}function V(){return Object.create(null)}function O(t){t.forEach(ot)}function it(t){return typeof t=="function"}function ct(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let M;function Pt(t,e){return M||(M=document.createElement("a")),M.href=e,t===M.href}function bt(t){return Object.keys(t).length===0}function ut(t,...e){if(t==null)return $;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Dt(t,e,n){t.$$.on_destroy.push(ut(e,n))}function Nt(t){return t==null?"":t}function Mt(t,e){t.appendChild(e)}function X(t,e,n){t.insertBefore(e,n||null)}function B(t){t.parentNode.removeChild(t)}function Tt(t){return document.createElement(t)}function lt(t){return document.createTextNode(t)}function zt(){return lt(" ")}function H(){return lt("")}function It(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function Ft(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function yt(t){return Array.from(t.childNodes)}function Bt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Ut(t,e,n,o){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function Yt(t,e,n){t.classList[n?"add":"remove"](e)}function wt(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}let R;function A(t){R=t}function U(){if(!R)throw new Error("Function called outside component initialization");return R}function Gt(t){U().$$.on_mount.push(t)}function kt(t){U().$$.after_update.push(t)}function Et(t){U().$$.on_destroy.push(t)}function $t(){const t=U();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const c=wt(e,n);o.slice().forEach(u=>{u.call(t,c)})}}}function Z(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const L=[],tt=[],z=[],et=[],at=Promise.resolve();let G=!1;function ft(){G||(G=!0,at.then(dt))}function vt(){return ft(),at}function W(t){z.push(t)}const Y=new Set;let T=0;function dt(){const t=R;do{for(;T<L.length;){const e=L[T];T++,A(e),xt(e.$$)}for(A(null),L.length=0,T=0;tt.length;)tt.pop()();for(let e=0;e<z.length;e+=1){const n=z[e];Y.has(n)||(Y.add(n),n())}z.length=0}while(L.length);for(;et.length;)et.pop()();G=!1,Y.clear(),A(t)}function xt(t){if(t.fragment!==null){t.update(),O(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}const I=new Set;let x;function J(){x={r:0,c:[],p:x}}function K(){x.r||O(x.c),x=x.p}function v(t,e){t&&t.i&&(I.delete(t),t.i(e))}function j(t,e,n,o){if(t&&t.o){if(I.has(t))return;I.add(t),x.c.push(()=>{I.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function Wt(t,e){j(t,1,1,()=>{e.delete(t.key)})}function Xt(t,e,n,o,c,u,a,r,s,i,_,y){let b=t.length,p=u.length,g=b;const E={};for(;g--;)E[t[g].key]=g;const k=[],q=new Map,C=new Map;for(g=p;g--;){const l=y(c,u,g),m=n(l);let h=a.get(m);h?o&&h.p(l,e):(h=i(m,l),h.c()),q.set(m,k[g]=h),m in E&&C.set(m,Math.abs(g-E[m]))}const N=new Set,d=new Set;function f(l){v(l,1),l.m(r,_),a.set(l.key,l),_=l.first,p--}for(;b&&p;){const l=k[p-1],m=t[b-1],h=l.key,w=m.key;l===m?(_=l.first,b--,p--):q.has(w)?!a.has(h)||N.has(h)?f(l):d.has(w)?b--:C.get(h)>C.get(w)?(d.add(h),f(l)):(N.add(w),b--):(s(m,a),b--)}for(;b--;){const l=t[b];q.has(l.key)||s(l,a)}for(;p;)f(k[p-1]);return k}function ht(t,e){const n={},o={},c={$$scope:1};let u=t.length;for(;u--;){const a=t[u],r=e[u];if(r){for(const s in a)s in r||(o[s]=1);for(const s in r)c[s]||(n[s]=r[s],c[s]=1);t[u]=r}else for(const s in a)c[s]=1}for(const a in o)a in n||(n[a]=void 0);return n}function _t(t){return typeof t=="object"&&t!==null?t:{}}function F(t){t&&t.c()}function P(t,e,n,o){const{fragment:c,on_mount:u,on_destroy:a,after_update:r}=t.$$;c&&c.m(e,n),o||W(()=>{const s=u.map(ot).filter(it);a?a.push(...s):O(s),t.$$.on_mount=[]}),r.forEach(W)}function D(t,e){const n=t.$$;n.fragment!==null&&(O(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function jt(t,e){t.$$.dirty[0]===-1&&(L.push(t),ft(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function St(t,e,n,o,c,u,a,r=[-1]){const s=R;A(t);const i=t.$$={fragment:null,ctx:null,props:u,update:$,not_equal:c,bound:V(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:V(),dirty:r,skip_bound:!1,root:e.target||s.$$.root};a&&a(i.root);let _=!1;if(i.ctx=n?n(t,e.props||{},(y,b,...p)=>{const g=p.length?p[0]:b;return i.ctx&&c(i.ctx[y],i.ctx[y]=g)&&(!i.skip_bound&&i.bound[y]&&i.bound[y](g),_&&jt(t,y)),b}):[],i.update(),_=!0,O(i.before_update),i.fragment=o?o(i.ctx):!1,e.target){if(e.hydrate){const y=yt(e.target);i.fragment&&i.fragment.l(y),y.forEach(B)}else i.fragment&&i.fragment.c();e.intro&&v(t.$$.fragment),P(t,e.target,e.anchor,e.customElement),dt()}A(s)}class Ot{$destroy(){D(this,1),this.$destroy=$}$on(e,n){const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const c=o.indexOf(n);c!==-1&&o.splice(c,1)}}$set(e){this.$$set&&!bt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const S=[];function pt(t,e){return{subscribe:mt(t,e).subscribe}}function mt(t,e=$){let n;const o=new Set;function c(r){if(ct(t,r)&&(t=r,n)){const s=!S.length;for(const i of o)i[1](),S.push(i,t);if(s){for(let i=0;i<S.length;i+=2)S[i][0](S[i+1]);S.length=0}}}function u(r){c(r(t))}function a(r,s=$){const i=[r,s];return o.add(i),o.size===1&&(n=e(c)||$),r(t),()=>{o.delete(i),o.size===0&&(n(),n=null)}}return{set:c,update:u,subscribe:a}}function gt(t,e,n){const o=!Array.isArray(t),c=o?[t]:t,u=e.length<2;return pt(n,a=>{let r=!1;const s=[];let i=0,_=$;const y=()=>{if(i)return;_();const p=e(o?s[0]:s,a);u?a(p):_=it(p)?p:$},b=c.map((p,g)=>ut(p,E=>{s[g]=E,i&=~(1<<g),r&&y()},()=>{i|=1<<g}));return r=!0,y(),function(){O(b),_()}})}function qt(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,o,c,u,a=[],r="",s=t.split("/");for(s[0]||s.shift();c=s.shift();)n=c[0],n==="*"?(a.push("wild"),r+="/(.*)"):n===":"?(o=c.indexOf("?",1),u=c.indexOf(".",1),a.push(c.substring(1,~o?o:~u?u:c.length)),r+=!!~o&&!~u?"(?:/([^/]+?))?":"/([^/]+?)",~u&&(r+=(~o?"?":"")+"\\"+c.substring(u))):r+="/"+c;return{keys:a,pattern:new RegExp("^"+r+(e?"(?=$|/)":"/?$"),"i")}}function Ct(t){let e,n,o;const c=[t[2]];var u=t[0];function a(r){let s={};for(let i=0;i<c.length;i+=1)s=rt(s,c[i]);return{props:s}}return u&&(e=new u(a()),e.$on("routeEvent",t[7])),{c(){e&&F(e.$$.fragment),n=H()},m(r,s){e&&P(e,r,s),X(r,n,s),o=!0},p(r,s){const i=s&4?ht(c,[_t(r[2])]):{};if(u!==(u=r[0])){if(e){J();const _=e;j(_.$$.fragment,1,0,()=>{D(_,1)}),K()}u?(e=new u(a()),e.$on("routeEvent",r[7]),F(e.$$.fragment),v(e.$$.fragment,1),P(e,n.parentNode,n)):e=null}else u&&e.$set(i)},i(r){o||(e&&v(e.$$.fragment,r),o=!0)},o(r){e&&j(e.$$.fragment,r),o=!1},d(r){r&&B(n),e&&D(e,r)}}}function Lt(t){let e,n,o;const c=[{params:t[1]},t[2]];var u=t[0];function a(r){let s={};for(let i=0;i<c.length;i+=1)s=rt(s,c[i]);return{props:s}}return u&&(e=new u(a()),e.$on("routeEvent",t[6])),{c(){e&&F(e.$$.fragment),n=H()},m(r,s){e&&P(e,r,s),X(r,n,s),o=!0},p(r,s){const i=s&6?ht(c,[s&2&&{params:r[1]},s&4&&_t(r[2])]):{};if(u!==(u=r[0])){if(e){J();const _=e;j(_.$$.fragment,1,0,()=>{D(_,1)}),K()}u?(e=new u(a()),e.$on("routeEvent",r[6]),F(e.$$.fragment),v(e.$$.fragment,1),P(e,n.parentNode,n)):e=null}else u&&e.$set(i)},i(r){o||(e&&v(e.$$.fragment,r),o=!0)},o(r){e&&j(e.$$.fragment,r),o=!1},d(r){r&&B(n),e&&D(e,r)}}}function At(t){let e,n,o,c;const u=[Lt,Ct],a=[];function r(s,i){return s[1]?0:1}return e=r(t),n=a[e]=u[e](t),{c(){n.c(),o=H()},m(s,i){a[e].m(s,i),X(s,o,i),c=!0},p(s,[i]){let _=e;e=r(s),e===_?a[e].p(s,i):(J(),j(a[_],1,1,()=>{a[_]=null}),K(),n=a[e],n?n.p(s,i):(n=a[e]=u[e](s),n.c()),v(n,1),n.m(o.parentNode,o))},i(s){c||(v(n),c=!0)},o(s){j(n),c=!1},d(s){a[e].d(s),s&&B(o)}}}function nt(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let o="";return n>-1&&(o=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:o}}const Q=pt(null,function(e){e(nt());const n=()=>{e(nt())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}}),Ht=gt(Q,t=>t.location);gt(Q,t=>t.querystring);const st=mt(void 0);function Rt(t,e,n){let{routes:o={}}=e,{prefix:c=""}=e,{restoreScrollState:u=!1}=e;class a{constructor(f,l){if(!l||typeof l!="function"&&(typeof l!="object"||l._sveltesparouter!==!0))throw Error("Invalid component object");if(!f||typeof f=="string"&&(f.length<1||f.charAt(0)!="/"&&f.charAt(0)!="*")||typeof f=="object"&&!(f instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:m,keys:h}=qt(f);this.path=f,typeof l=="object"&&l._sveltesparouter===!0?(this.component=l.component,this.conditions=l.conditions||[],this.userData=l.userData,this.props=l.props||{}):(this.component=()=>Promise.resolve(l),this.conditions=[],this.props={}),this._pattern=m,this._keys=h}match(f){if(c){if(typeof c=="string")if(f.startsWith(c))f=f.substr(c.length)||"/";else return null;else if(c instanceof RegExp){const w=f.match(c);if(w&&w[0])f=f.substr(w[0].length)||"/";else return null}}const l=this._pattern.exec(f);if(l===null)return null;if(this._keys===!1)return l;const m={};let h=0;for(;h<this._keys.length;){try{m[this._keys[h]]=decodeURIComponent(l[h+1]||"")||null}catch{m[this._keys[h]]=null}h++}return m}async checkConditions(f){for(let l=0;l<this.conditions.length;l++)if(!await this.conditions[l](f))return!1;return!0}}const r=[];o instanceof Map?o.forEach((d,f)=>{r.push(new a(f,d))}):Object.keys(o).forEach(d=>{r.push(new a(d,o[d]))});let s=null,i=null,_={};const y=$t();async function b(d,f){await vt(),y(d,f)}let p=null,g=null;u&&(g=d=>{d.state&&d.state.__svelte_spa_router_scrollY?p=d.state:p=null},window.addEventListener("popstate",g),kt(()=>{p?window.scrollTo(p.__svelte_spa_router_scrollX,p.__svelte_spa_router_scrollY):window.scrollTo(0,0)}));let E=null,k=null;const q=Q.subscribe(async d=>{E=d;let f=0;for(;f<r.length;){const l=r[f].match(d.location);if(!l){f++;continue}const m={route:r[f].path,location:d.location,querystring:d.querystring,userData:r[f].userData,params:l&&typeof l=="object"&&Object.keys(l).length?l:null};if(!await r[f].checkConditions(m)){n(0,s=null),k=null,b("conditionsFailed",m);return}b("routeLoading",Object.assign({},m));const h=r[f].component;if(k!=h){h.loading?(n(0,s=h.loading),k=h,n(1,i=h.loadingParams),n(2,_={}),b("routeLoaded",Object.assign({},m,{component:s,name:s.name,params:i}))):(n(0,s=null),k=null);const w=await h();if(d!=E)return;n(0,s=w&&w.default||w),k=h}l&&typeof l=="object"&&Object.keys(l).length?n(1,i=l):n(1,i=null),n(2,_=r[f].props),b("routeLoaded",Object.assign({},m,{component:s,name:s.name,params:i})).then(()=>{st.set(i)});return}n(0,s=null),k=null,st.set(void 0)});Et(()=>{q(),g&&window.removeEventListener("popstate",g)});function C(d){Z.call(this,t,d)}function N(d){Z.call(this,t,d)}return t.$$set=d=>{"routes"in d&&n(3,o=d.routes),"prefix"in d&&n(4,c=d.prefix),"restoreScrollState"in d&&n(5,u=d.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=u?"manual":"auto")},[s,i,_,o,c,u,C,N]}class Jt extends Ot{constructor(e){super();St(this,e,Rt,At,ct,{routes:3,prefix:4,restoreScrollState:5})}}export{K as A,Wt as B,Yt as C,Nt as D,Dt as E,Ht as F,It as G,Jt as R,Ot as S,Ft as a,X as b,Ut as c,B as d,Tt as e,$t as f,tt as g,zt as h,St as i,F as j,Pt as k,Mt as l,P as m,$ as n,Et as o,Bt as p,v as q,j as r,ct as s,lt as t,D as u,Gt as v,mt as w,H as x,J as y,Xt as z};
