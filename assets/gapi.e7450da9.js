import{B as c}from"./index.7c0ff3be.js";function i(e,t){let n=[];if(e[t]===void 0)return[e];for(const s of e[t])n=n.concat(i(s,t));return console.log(n),n}const g="975670416072-iabafb9dtffjf2ipq4tqmfj4min62k17.apps.googleusercontent.com",r="AIzaSyDDWq6ZoZkDIVbhmkIYdRlg3Lapuhm1WrY",u=["https://www.googleapis.com/auth/gmail.modify"],l=["https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest"],{set:a,subscribe:f}=c(void 0),I={subscribe:f};function p(){gapi.load("client:auth2",d)}p();function d(){gapi.client.init({apiKey:r,clientId:g,discoveryDocs:l,scope:u.join(" ")}).then(function(){gapi.auth2.getAuthInstance().isSignedIn.listen(o),o(gapi.auth2.getAuthInstance().isSignedIn.get())},console.log)}function o(e){if(console.log("SIGNED",e?"IN!":"OUT!"),e){const t=gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile();a({id:t.getId(),fullName:t.getName(),imageUrl:t.getImageUrl(),email:t.getEmail()})}else a(void 0)}function b(e){gapi.auth2.getAuthInstance().signIn()}function v(e){gapi.auth2.getAuthInstance().signOut()}function w(e,t){for(const n of e)if(n.name===t)return n.value}function m(e){return e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")}function y(e){const t=i(e,"parts").filter(n=>n.mimeType==="text/html")[0].body.data;return decodeURIComponent(escape(window.atob(m(t))))}function S(e){return i(e,"parts").filter(t=>t.mimeType.includes("image/"))}export{S as a,w as b,v as c,m as f,y as g,b as h,I as u};
